# meetingSTT

## Описание

Приложение предназначено для обработки аудиозаписей встреч. Оно выполняет следующие функции:
- Диаризация аудиозаписей в формате WAV с использованием Pyannote.
- Транскрибация аудиозаписей с использованием GigaAM.
- Суммаризация полученной транскрипции с помощью большой языковой модели (по умолчанию Gemma3 12B).
- Предоставление пользователю результатов транскрибации и суммаризации.
- Возможность скачивания транскрипции и суммаризации в формате PDF.

Требования: CUDA >= 11.8

## Предварительные шаги

1) Задать значение `hugging_face_token` в `settings.json` на свой [Hugging Face токен](https://huggingface.co/settings/tokens) для диаризации [pyannote](https://huggingface.co/pyannote/speaker-diarization-3.1) (нужно подтвердить лицензию)
2) Подтвердить [лицензию Gemma](https://huggingface.co/google/gemma-3-12b-it-qat-q4_0-gguf), скачать модель [`gemma-3-12b-it-qat-q4_0-gguf`](https://huggingface.co/google/gemma-3-12b-it-qat-q4_0-gguf/blob/main/gemma-3-12b-it-q4_0.gguf) и поместить ее в папку `models`
3) Привести обрабатываемое аудио в нужный формат wav. Например для mp3 через утилиту [ffmpeg](https://ffmpeg.org/) (для других форматов аналогично):
    `ffmpeg -i /path/to/audio_name.mp3 -ar 16000 -ac 1 -acodec pcm_s16le meeting_audio.wav`

## Развертывание через Docker Compose

Необходимо установить [Docker Desktop](https://www.docker.com/products/docker-desktop/) и запустить его.

### Запуск

1) Открыть терминал в папке приложения и выполнить команду: `docker-compose up --build` (после сборки при запуске флаг `--build` опустить)
2) Дождаться сообщений о запуске сервера `llamacpp` и веб-сервера `app` (первый запуск будет долгим)

### Остановка:

1) В терминале, где запущен `docker-compose`, нажмите `Ctrl+C`.
2) Чтобы удалить контейнеры и сеть (но не volume с моделью), выполните: `docker-compose down`

## Использование

1) Открыть браузер и перейти по адресу `http://127.0.0.1:5001`.
2) В интерфейсе выбрать подготовленный wav-файл встречи и нажать кнопку "Суммаризировать".
3) Дождаться окончания обработки и получить саммари и транскрипцию
